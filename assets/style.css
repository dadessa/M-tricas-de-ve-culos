/* ============ Variáveis de tema ============ */
:root{
  --bg:#E9F0FF;           /* fundo mais claro (pedido anterior) */
  --card:#ffffff;
  --text:#0F172A;
  --muted:#64748B;
  --primary:#3B82F6;
  --primary-50:#E0ECFF;
  --ring:#C7D2FE;
  --shadow:0 10px 20px rgba(2,6,23,.06);
}
.dark{
  --bg:#0B1220;
  --card:#111827;
  --text:#E6ECFF;
  --muted:#93A3BE;
  --primary:#60A5FA;
  --primary-50:#1f2a44;
  --ring:#22304A;
  --shadow:0 10px 20px rgba(2,6,23,.35);
}

/* ============ Base ============ */
html,body{height:100%;}
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  margin:0;
}

.container{max-width:1200px; margin:0 auto; padding:20px 16px;}
.panel{background:transparent; padding:0; margin:12px 0;}

.label{font-weight:700; color:var(--muted); margin:6px 0 8px 4px; font-size:13px}

/* ============ Navbar ============ */
.navbar{
  background:var(--card);
  border:1px solid var(--ring);
  border-radius:16px;
  padding:14px 16px;
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; box-shadow:var(--shadow);
}
.brand{display:flex; align-items:center; gap:12px; flex-wrap:wrap;}
.brand h1{font-size:22px; line-height:1.1; margin:0;}
.brand .badge{background:var(--primary-50); color:var(--primary); border-radius:999px; padding:2px 8px; font-size:12px; font-weight:700}
.actions{display:flex; align-items:center; gap:10px; flex-wrap:wrap;}

.btn{
  background:var(--primary); color:#fff; border:0; border-radius:12px;
  padding:10px 14px; font-weight:700; cursor:pointer;
}
.btn.ghost{background:transparent; color:var(--primary); border:1px solid var(--primary);}

/* ============ Filtros ============ */
.filters{display:grid; grid-template-columns:repeat(4,1fr); gap:14px;}
/* Dash dropdown/Input */
.Select--single > .Select-control .Select-value,
.Select-placeholder{color:var(--muted) !important}
.Select-control{
  border-radius:12px !important; border:1px solid var(--ring) !important; box-shadow:none !important;
}
.Select-menu-outer{border-radius:12px !important; border:1px solid var(--ring) !important}
input[type="text"], .dash-input{
  width:100%; border:1px solid var(--ring); border-radius:12px; padding:10px 12px; background:#fff; color:var(--text);
}

/* ============ KPIs ============ */
.kpis{display:grid; grid-template-columns:repeat(4,1fr); gap:14px; margin:14px 0;}
.card{
  background:var(--card); border:1px solid var(--ring); border-radius:16px; padding:14px;
  box-shadow:var(--shadow);
}
.kpi .kpi-title{margin:0; font-size:14px; color:var(--muted); font-weight:700}
.kpi .kpi-value{margin:4px 0 0; font-size:34px}

/* ============ Grids de gráficos ============ */
.grid-2{display:grid; grid-template-columns:repeat(2,1fr); gap:14px;}

/* Plotly (texto e títulos legíveis nos dois temas) */
.js-plotly-plot .plotly, .gtitle, .xtick text, .ytick text, .legend text{
  fill: var(--text) !important; color: var(--text) !important;
}
.js-plotly-plot .plotly svg .legend rect{fill:transparent !important}

/* ============ DataTable ============ */
.dash-table-container .dash-spreadsheet-container{
  border:0 !important;
}
.dash-table-container .dash-spreadsheet-inner{
  border:0 !important;
}
.dash-table-container .dash-spreadsheet-container .row-1{
  background:transparent !important;
}
.table{overflow:auto;}
/* filtros e header */
.dash-table-container .dash-header{
  font-weight:700; background:transparent !important; color:var(--text) !important;
}
.dash-filter{color:var(--muted) !important}

/* ============ Responsivo ============ */
/* tablets */
@media (max-width:1024px){
  .filters{grid-template-columns:repeat(2,1fr);}
  .kpis{grid-template-columns:repeat(2,1fr);}
  .grid-2{grid-template-columns:1fr;}
  .kpi .kpi-value{font-size:30px}
}

/* celulares */
@media (max-width:640px){
  .container{padding:16px 12px;}
  .navbar{flex-direction:column; align-items:stretch; gap:10px; padding:12px}
  .actions{justify-content:flex-start; gap:8px}
  .btn{padding:9px 12px; border-radius:10px; font-size:14px}
  .brand h1{font-size:18px}
  .filters{grid-template-columns:1fr;}
  .kpis{grid-template-columns:1fr;}
  .kpi .kpi-value{font-size:28px}
  .grid-2{grid-template-columns:1fr;}
  .card{padding:12px}
  .label{font-size:12px}
  /* Radio claro/escuro e ordenação: quebrar linha bonitinha */
  .dash-core-components-radioitems label{margin-right:10px}
}
